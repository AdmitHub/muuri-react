module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(3)()},function(e,t){e.exports=require("muuri")},function(e,t,n){"use strict";var r=n(4);function o(){}function u(){}u.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,u,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),u=n(1),i=n.n(u),a=n(2),s=n.n(a),c=0;var f=[],l=new Map;function d(){return 0!==f.length}function p(e,t){return l.get(e).unshift(void 0===t?null:t)}function m(e){return l.get(e)[0]}function h(e){return 0!==l.get(e).length}function y(e){return l.get(e).shift()}function v(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),u=2;u<n;u++)o[u-2]=arguments[u];return p(e,t.apply(void 0,o)),Object(r.useEffect)((function(){y(e)})),m(e)}function b(e){var t=Object(r.useMemo)((function(){return{}}),[]);return h(e)&&(t.global=m(e)),t}function g(){var e=Object(r.useMemo)((function(){return{}}),[]);return d()&&(e.consumer=f[0]),e}function O(e){if(!h(e)||!d())throw new Error("Each 'muuri-react' custom hook can be called only by a Component inside a MuuriComponent.")}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(e){"function"!=typeof e&&(e=function(e){return e});var t=(++c).toString();return l.set(t,[]),{setGlobal:p.bind(null,t),getGlobal:m.bind(null,t),hasGlobal:h.bind(null,t),useGlobalHook:v.bind(null,t,e),useGlobalReference:b.bind(null,t),hookThrowOnMount:O.bind(null,t)}}((function(e,t){var n=Object(r.useMemo)((function(){return new D(t)}),[]);return Object(r.useEffect)((function(){return n.setMuuri(e.current)}),[]),Object(r.useEffect)((function(){return n.refreshRequestedItems()})),n})),R=w.useGlobalHook,I=w.getGlobal,T=w.hasGlobal,k=w.hookThrowOnMount,D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.itemsMap=t,this.refreshRequests=[],this.layoutRequest=!1}var t,n,r;return t=e,(n=[{key:"setMuuri",value:function(e){this.muuri=e}},{key:"addRefreshRequest",value:function(e){this.refreshRequests.push(e)}},{key:"refreshRequestedItems",value:function(){var e=this;0!==this.refreshRequests.length&&(this.muuri.refreshItems(this.refreshRequests.map((function(t){return e.itemsMap.getItem(t)}))),this.refreshRequests=[],this.addLayoutRequest())}},{key:"refreshItem",value:function(e,t){this.muuri.refreshItems([this.itemsMap.getItem(e)]),this.muuri.layout(t)}},{key:"addLayoutRequest",value:function(){this.layoutRequest=!0}},{key:"consumeLayoutRequest",value:function(){return!!this.layoutRequest&&(this.layoutRequest=!1,!0)}}])&&M(t.prototype,n),r&&M(t,r),e}();function E(e){var t=g(),n=j(Object(r.useMemo)((function(){k();var e=I();return[function(n){T()?e.addRefreshRequest(t.consumer):e.refreshItem(t.consumer,n)},{mounting:!0}]}),[]),2),o=n[0],u=n[1];return Object(r.useEffect)((function(){u.mounting?u.mounting=!1:o()}),e),o}var A=function(e){var t,n=e.children,o=e.index;return t=o,f.unshift(void 0===t?null:t),Object(r.useEffect)((function(){f.shift()})),n};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}A.propTypes={index:i.a.number};var S=Object(r.forwardRef)((function(e,t){var n=e.children,u=e.gridProps,i=void 0===u?{}:u;return o.a.createElement("div",P({},i,{ref:t}),r.Children.map(n,(function(e,t){return o.a.createElement(A,{key:e.key,index:t},e)})))}));function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(r.useMemo)((function(){return{keys:Object.keys(t),values:Object.values(t)}}),[]),o=n.keys,u=n.values,i=Object(r.useMemo)((function(){for(var t={},n=0;n<o.length;n++){var r=o[n];t[r]=r in e?e[r]:u[n]}return t}),o.map((function(t){return e[t]})));return i}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}S.propTypes={gridProps:i.a.object};var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.components=[]}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){this.components=_(e),this.items=_(t)}},{key:"getItem",value:function(e){return this.items[e]}}])&&C(t.prototype,n),r&&C(t,r),e}();var L=Object(r.forwardRef)((function(e,t){var n=e.children,u=e.options,i=e.gridProps,a=e.filter,c=e.sort,f=e.filterOptions,l=e.sortOptions,d=e.onMount,p=e.onUnmount,m=e.propsAsSortData,h=e.removeOptions,y=void 0===h?{hide:!0}:h,v=e.addOptions,b=void 0===v?{show:!0}:v,g=e.instantLayout,O=void 0!==g&&g;f=q(f,{instant:!1}),l=q(l,{descending:!1});var j=Object(r.useRef)(),M=Object(r.useRef)(),w=Object(r.useMemo)((function(){return{muuri:void 0,oldChildren:[],itemsMap:new G,addedDep:{},removedDep:{},propsAsSortData:m}}),[]),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=[],o=t.filter((function(t,r){return e.every((function(e){return e.key!==t.key}))&&n.push(r)})),u=e.filter((function(e,n){return t.every((function(t){return t.key!==e.key}))&&r.push(n)})),i=e.concat(o);return{indicesToRemove:n,indicesToAdd:r,removedChildren:o,addedChildren:u,allChildren:i}}(n=o.a.Children.toArray(n),w.oldChildren),T=I.indicesToAdd,k=I.indicesToRemove,D=I.allChildren;w.oldChildren=n,T.length&&(w.addedDep={}),k.length&&(w.removedDep={}),Object(r.useEffect)((function(){var e;return(u=u||{}).items||(u.items=[]),u.dragContainer=j.current,u.sortData=Object.assign(u.sortData||{},(e=m,Array.isArray(e)&&0!==e.length?e.reduce((function(e,t){return e[t]=function(e){if(e.getProps)return e.getProps()[t]},e}),{}):{})),w.muuri=new s.a(j.current,u),function(){w.muuri.destroy()}}),[]),Object(r.useEffect)((function(){return M.current=w.muuri,t&&(t.current=w.muuri),"function"==typeof d&&d(w.muuri),function(){M.current=void 0,t&&(t.current=void 0),"function"==typeof p&&p(w.muuri)}}),[]),Object(r.useEffect)((function(){var e,t,n,r,o=(e=j.current,t=T,n=k.length,{DOMItems:(r=Array.from(e.children)).slice(0,r.length-n),DOMItemsToRemove:r.slice(r.length-n,r.length),addedDOMItems:t.map((function(e){return r[e]}))}),u=o.DOMItems,i=o.DOMItemsToRemove,a=o.addedDOMItems;w.DOMItems=u,w.DOMItemsToRemove=i,w.addedDOMItems=a,w.newItemsIndeces=function(e,t){for(var n=x(e),r=0;r<e.length;r++)for(var o=0;o<t.length;o++)e[r]>t[o]&&n[r]++;return n}(T,k)})),Object(r.useEffect)((function(){!function(e,t,n,r){if(0!==t.length){for(var o=0;o<t.length;o++)e.add(t[o],{index:n[o],layout:!1});r.show&&e.show(n,{layout:!1})}}(w.muuri,w.addedDOMItems,w.newItemsIndeces,b)}),[w.addedDep]),Object(r.useEffect)((function(){!function(e,t,n){0!==t.length&&(n.hide?e.hide(t,{layout:!1,onFinish:function(n){e.remove(n,{layout:!1}),t.forEach((function(e){return e.style.display="none"}))}}):e.remove(t,{layout:!1}))}(w.muuri,w.DOMItemsToRemove,y)}),[w.removedDep]),Object(r.useEffect)((function(){var e=w.muuri.getItems(w.DOMItems);!function(e){for(var t=0;t<e.length;t++)e[t]._component={},e[t].getProps=function(){return this._component.props||{}},e[t].getData=function(){return this._component.data}}(w.muuri.getItems(w.newItemsIndeces)),function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.key,u=r.props;t[n]._component.props=u,t[n]._component.key=o}}(n,e),w.itemsMap.add(n,e),w.propsAsSortData&&w.muuri.refreshSortData()}));var E=R(M,w.itemsMap);return Object(r.useEffect)((function(){a&&w.muuri.filter(a,f)}),[a,f,w.addedDep]),Object(r.useEffect)((function(){c&&w.muuri.sort(c,l)}),[c,l,w.addedDep]),Object(r.useEffect)((function(){(T.length||k.length||a||c||E.consumeLayoutRequest())&&w.muuri.layout(O)})),o.a.createElement(S,{gridProps:i,ref:j},D)}));L.propTypes={options:i.a.object,gridProps:i.a.object,onMount:i.a.func,onUnmount:i.a.func,filter:i.a.oneOfType([i.a.string,i.a.func]),sort:i.a.oneOfType([i.a.string,i.a.func,i.a.array]),filterOptions:i.a.exact({instant:i.a.bool}),sortOptions:i.a.exact({descending:i.a.bool}),propsAsSortData:i.a.arrayOf(i.a.string.isRequired),removeOptions:i.a.exact({hide:i.a.bool}),addOptions:i.a.exact({show:i.a.bool}),instantLayout:i.a.bool},n.d(t,"MuuriComponent",(function(){return L})),n.d(t,"useRefresh",(function(){return E}))}]);